{% extends './base.html' %} 
{% load static %} 
{% block extra_styles %}
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
{% endblock %} 
{% block scripts %}
<script src="{% static './planner/scripts/calendar.js' %}" defer></script>
{% endblock %} 
{% block content %}
<main>
  <div id="TennisSessions" style="display: none">{{ tennis_sessions }}</div>
  <section class="calendar-section">
    <div class="undecided">
      <div class="calendar">
        <div class="month">
          <span class="prev-btn"><i class="fas fa-chevron-left"></i></span>
          <div class="date"></div>
          <span class="next-btn"><i class="fas fa-chevron-right"></i></span>
        </div>
        <div class="weekdays">
          <div>mon</div>
          <div>tue</div>
          <div>wed</div>
          <div>thu</div>
          <div>fri</div>
          <div>sat</div>
          <div>sun</div>
        </div>
        <!-- <div class="days">
          <div class="day prev-date">29</div>
          <div class="day prev-date">30</div>
          <div class="day prev-date">31</div>
          <div class="day">1</div>
          <div class="day">2</div>
          <div class="day">3</div>
          <div class="day">4</div>
          <div class="day">5</div>
          <div class="day">6</div>
          <div class="day active tennis-session">7</div>
          <div class="day today">8</div>
          <div class="day">9</div>
          <div class="day">10</div>
          <div class="day">11</div>
          <div class="day">12</div>
          <div class="day">13</div>
          <div class="day">14</div>
          <div class="day">15</div>
          <div class="day">16</div>
          <div class="day tennis-session">17</div>
          <div class="day">18</div>
          <div class="day">19</div>
          <div class="day">20</div>
          <div class="day">21</div>
          <div class="day">22</div>
          <div class="day">23</div>
          <div class="day">24</div>
          <div class="day tennis-session">25</div>
          <div class="day">26</div>
          <div class="day">27</div>
          <div class="day">28</div>
          <div class="day">29</div>
          <div class="day next-date">1</div>
          <div class="day next-date">2</div>
          <div class="day next-date">3</div>
        </div> -->
        <div class="days">
          <!-- Generating the days with Javascript -->
        </div>
        <div class="selectDate-today">
          <div class="selectDate">
            <input type="month" name="selectDatePicker" id="selectDatePicker" />
            <!-- <button class="selectDate-btn">go</button> -->
          </div>
          <button class="today-btn">today</button>
        </div>
      </div>
    </div>
    <div class="undecided">
      <aside class="side-panel" id="sidePanel">
        <!-- Content will be dynamically populated here based on user interactions -->
        <p>Hello</p>
      </aside>
    </div>
  </section>

  <!-- Modals for editing, deleting, and adding tennis sessions -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('#editModal')">&times;</span>
      <div id="modalContent">
        <form action="" method="post" novalidate>
          {% csrf_token %}
          {{ form.as_p }}
          <div style="display: none;">
            <label for="session-id">ID: </label>
            <input type="hidden" type="text" name="session-id" id="session-id" value="X">
          </div>
          <input class="btn" type="submit" value="Edit Tennis Session">
        </form>
      </div>
    </div>
  </div>

  <div id="addModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('#addModal')">&times;</span>
      <div id="modalContent">
        <form action="" method="post" novalidate>
          {% csrf_token %}
          {{ form.as_p }}
          <div style="display: none;">
            <label for="session-id">ID: </label>
            <input type="hidden" type="text" name="session-id" id="session-id" value="X">
          </div>
          <input class="btn" type="submit" value="Add Tennis Session">
        </form>
      </div>
    </div>
  </div>

  <div id="deleteModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('#deleteModal')">&times;</span>
      <div id="modalContent">
        <form action="" method="post" novalidate>
          <p id="deleteMsg"></p>
          {% csrf_token %}
          <div style="display: none;">
            <label for="delete-id">ID: </label>
            <input type="hidden" type="text" name="delete-id" id="delete-id" value="delete">
          </div>
          <input class="btn" type="submit" value="Delete Tennis Session">
        </form>
      </div>
    </div>
  </div>

</main>
<script>
  function closeModal(id) {
    const closeBtn = document.querySelector(id);
    closeBtn.style.display = "none";
  }
</script>
{% endblock %}
